<!doctype html>
<html lang="ko" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-glue/project">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">프로젝트의 명세를 정의하기 | 블로그 생성기를 만들면서 배우는 하스켈</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://jbl428.github.io/learn-haskell-blog-generator/img/book-logo-transparent.png"><meta data-rh="true" name="twitter:image" content="https://jbl428.github.io/learn-haskell-blog-generator/img/book-logo-transparent.png"><meta data-rh="true" property="og:url" content="https://jbl428.github.io/learn-haskell-blog-generator/glue/project"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="프로젝트의 명세를 정의하기 | 블로그 생성기를 만들면서 배우는 하스켈"><meta data-rh="true" name="description" content="지금까지 우리는 base와 GHC와 함께 제공되는 라이브러리만 사용했습니다."><meta data-rh="true" property="og:description" content="지금까지 우리는 base와 GHC와 함께 제공되는 라이브러리만 사용했습니다."><link data-rh="true" rel="icon" href="/learn-haskell-blog-generator/img/book-logo-transparent.png"><link data-rh="true" rel="canonical" href="https://jbl428.github.io/learn-haskell-blog-generator/glue/project"><link data-rh="true" rel="alternate" href="https://jbl428.github.io/learn-haskell-blog-generator/glue/project" hreflang="ko"><link data-rh="true" rel="alternate" href="https://jbl428.github.io/learn-haskell-blog-generator/glue/project" hreflang="x-default"><link rel="stylesheet" href="/learn-haskell-blog-generator/assets/css/styles.460414e1.css">
<link rel="preload" href="/learn-haskell-blog-generator/assets/js/runtime~main.30b23ec9.js" as="script">
<link rel="preload" href="/learn-haskell-blog-generator/assets/js/main.533587d0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/learn-haskell-blog-generator/"><div class="navbar__logo"><img src="/learn-haskell-blog-generator/img/book-logo-transparent.png" alt="haskell" class="themedImage_ToTc themedImage--light_HNdA"><img src="/learn-haskell-blog-generator/img/book-logo-transparent.png" alt="haskell" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">블로그 생성기를 만들면서 배우는 하스켈</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/jbl428/learn-haskell-blog-generator" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/learn-haskell-blog-generator/">이 책에 대하여</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/learn-haskell-blog-generator/hello">Hello, world!</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/learn-haskell-blog-generator/html">HTML 출력 라이브러리 만들기</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;HTML 출력 라이브러리 만들기&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/learn-haskell-blog-generator/markup">사용자 정의 마크업 언어</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;사용자 정의 마크업 언어&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/learn-haskell-blog-generator/glue">통합하기</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;통합하기&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/learn-haskell-blog-generator/glue/markup-to-html">마크업을 HTML로 변환하기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/learn-haskell-blog-generator/glue/io">IO 다루기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/learn-haskell-blog-generator/glue/project">프로젝트의 명세를 정의하기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/learn-haskell-blog-generator/glue/optparse">멋진 옵션 파싱</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/learn-haskell-blog-generator/errors_and_files">에러 처리와 여러 파일 다루기</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;에러 처리와 여러 파일 다루기&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/learn-haskell-blog-generator/environment">Passing environment variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/learn-haskell-blog-generator/testing">Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/learn-haskell-blog-generator/documentation">Generating documentation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/learn-haskell-blog-generator/recap">Recap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/learn-haskell-blog-generator/next">Where to go next</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/learn-haskell-blog-generator/faq">Frequently asked questions</a></li></ul></nav><button type="button" title="사이드바 숨기기" aria-label="사이드바 숨기기" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="홈" class="breadcrumbs__link" href="/learn-haskell-blog-generator/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/learn-haskell-blog-generator/glue"><span itemprop="name">통합하기</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">프로젝트의 명세를 정의하기</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">이 페이지에서</button></div><div class="theme-doc-markdown markdown"><h1>프로젝트의 명세를 정의하기</h1><p>지금까지 우리는 <code>base</code>와 GHC와 함께 제공되는 <a href="https://downloads.haskell.org/ghc/9.2.5/docs/html/users_guide/9.2.5-notes.html#included-libraries" target="_blank" rel="noopener noreferrer">라이브러리</a>만 사용했습니다.
그래서 프로그램을 실행하기 위해 <code>runghc</code>보다 더 복잡한 것을 할 필요가 없었습니다.
하지만 이번에는 GHC에 포함되지 않은 외부 라이브러리를 사용할 것입니다.</p><p>외부 패키지는 <a href="https://hackage.haskell.org/" target="_blank" rel="noopener noreferrer">Hackage</a> - 하스켈의 중앙 패키지 저장소, <a href="https://www.stackage.org/" target="_blank" rel="noopener noreferrer">Stackage</a> - 함께 작동하는 것으로 알려진 Hackage 패키지의 하위 집합, 또는 원격 git 저장소에서 다운로드할 수 있습니다.
보통 하스켈러들은 여러 프로젝트를 위해 패키지를 다운로드하고 관리하기 위해 <strong>패키지 관리자</strong>를 사용합니다.
하스켈에서 가장 인기있는 패키지 관리자는 <a href="https://cabal.readthedocs.io" target="_blank" rel="noopener noreferrer">cabal</a>과 <a href="https://haskellstack.org" target="_blank" rel="noopener noreferrer">stack</a>입니다.</p><p>두 패키지 관리자 간의 주요 차이점은 철학입니다.
<code>cabal</code>은 하스켈 프로젝트를 빌드하고, Hackage 전체를 사용하여 패키지 관리를 수행하며, 패키지가 함께 작동하도록 복잡한 알고리즘을 사용하려고 노력하는 최소한의 도구를 만들려고 노력합니다.
<code>stack</code>은 각 프로젝트에 맞는 올바른 GHC를 설치하고, hoogle과 같은 외부 도구와 통합을 제공하며, 사용자가 사용할 패키지의 &#x27;집합&#x27;을(버전을 포함해서) 선택할 수 있도록 하는 등 최대한의 도구를 만들려고 노력합니다.</p><p>만약 GHCup을 사용해 하스켈을 설치했다면, <code>cabal</code>이 이미 설치되어 있을 것입니다.
만약 stack을 사용해 하스켈을 설치했다면, <code>stack</code>이 이미 설치되어 있을 것입니다.
만약 그렇지 않다면, <a href="https://www.haskell.org/downloads/" target="_blank" rel="noopener noreferrer">haskell.org downloads page</a>를 확인해 보세요.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="프로젝트-만들기">프로젝트 만들기<a href="#프로젝트-만들기" class="hash-link" aria-label="프로젝트 만들기에 대한 직접 링크" title="프로젝트 만들기에 대한 직접 링크">​</a></h2><p>외부 패키지를 사용하는 방법은 여러 가지가 있습니다.
빠른 실험을 위해, 외부 패키지를 사용하여 프로그램을 빌드하거나 실행할 수 있도록 <a href="https://gilmi.me/blog/post/2021/08/14/hs-core-tools#using-external-packages-in-ghci" target="_blank" rel="noopener noreferrer">stack이나 cabal에게 요청</a>할 수 있습니다.
하지만 프로그램이 커지고, 더 많은 의존성을 사용하고, 더 많은 기능이 필요할수록, 프로그램과 라이브러리를 위한 <strong>프로젝트 명세</strong>를 만드는 것이 좋습니다.</p><p>프로젝트 명세는 <strong>cabal 파일</strong>에 작성됩니다.
<code>cabal init --libandexe</code>나 <code>stack new</code>를 사용하여 cabal이나 stack에게 명세를 생성하도록 요청할 수 있지만, 나중에 파일을 직접 편집해야 할 수도 있습니다.
지금은 단순히 <code>hs-blog.cabal</code>에 다음 예제를 붙여넣고 편집합시다.</p><div class="language-cabal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cabal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cabal-version:       2.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name:                이름은 &lt;name&gt;.cabal과 일치해야 합니다.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version:             버전은 PvP를 사용해야 합니다.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">synopsis:            시놉시스는 hackage 패키지 목록과 검색에 표시됩니다.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">description:         설명은 라이브러리의 상단에 표시됩니다.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">homepage:            홈페이지 url</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bug-reports:         이슈 추적기 url</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">license:             라이선스 이름</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">license-file:        라이선스 파일</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">author:              작성자 이름</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">maintainer:          메인테이너 이메일</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">category:            쉼표로 구분된 Hackage 카테고리</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extra-doc-files:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">common common-settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default-language: Haskell2010</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ghc-options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -Wall</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">library</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import: common-settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hs-source-dirs: src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  build-depends:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      base</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    , directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  exposed-modules:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HsBlog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      HsBlog.Convert</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      HsBlog.Html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HsBlog.Html.Internal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      HsBlog.Markup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -- other-modules:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">executable hs-blog-gen</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import: common-settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hs-source-dirs: app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  main-is: Main.hs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  build-depends:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      base</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    , &lt;package-name&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ghc-options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -O</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>각 항목에 대한 자세한 내용을 하나씩 살펴보겠습니다.</p><ul><li><a href="#package-metadata">package metadata</a></li><li><a href="#common-settings">common settings</a></li><li><a href="#library">library</a></li><li><a href="#executable">executable</a>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="package-metadata">Package metadata<a href="#package-metadata" class="hash-link" aria-label="Package metadata에 대한 직접 링크" title="Package metadata에 대한 직접 링크">​</a></h3><p>패키지 메타데이터 항목들은 주석 내용만 보고도 어떤 내용인지 직관적으로 알 수 있습니다.
다만 다음 항목들에 대해서는 좀 더 살펴볼 필요가 있습니다.</p><ul><li><code>cabal-version</code>: 어떤 cabal 버전으로 이 프로젝트를 빌드할 수 있는지 정의합니다. 예제에서는 2.4 이상을 지정했습니다.
각 버전에 대한 정보는 <a href="https://cabal.readthedocs.io/en/stable/file-format-changelog.html" target="_blank" rel="noopener noreferrer">문서</a>를 참고하세요.</li><li><code>name</code>: 라이브러리와 패키지의 이름을 정의합니다. <code>.cabal</code> 파일의 이름과 일치해야 합니다. 보통 소문자로 시작합니다.
<a href="https://hackage.haskell.org/packages/search?terms=name" target="_blank" rel="noopener noreferrer">Hackage에서 패키지 이름이 이미 사용중인지 확인하세요</a>.</li><li><code>version</code>: 일부 하스켈 패키지는 <a href="https://semver.org/" target="_blank" rel="noopener noreferrer">semver</a>을 사용하지만, 대부분 <a href="https://pvp.haskell.org/" target="_blank" rel="noopener noreferrer">PvP</a>를 사용합니다.</li><li><code>license</code>: Most Haskell packages use <a href="https://choosealicense.com/licenses/bsd-3-clause/" target="_blank" rel="noopener noreferrer">BSD-3-Clause</a>. <a href="https://neilmitchell.blogspot.com/2018/08/licensing-my-haskell-packages.html" target="_blank" rel="noopener noreferrer">Neil Mitchell blogged about this</a>. You can find more licenses if you&#x27;d like at <a href="https://choosealicense.com" target="_blank" rel="noopener noreferrer">choosealicense.com</a>.</li><li><code>license</code>: 대부분의 하스켈 패키지는 <a href="https://choosealicense.com/licenses/bsd-3-clause/" target="_blank" rel="noopener noreferrer">BSD-3-Clause</a>를 사용합니다.
이에 대한 <a href="https://neilmitchell.blogspot.com/2018/08/licensing-my-haskell-packages.html" target="_blank" rel="noopener noreferrer">Neil Mitchell의 글</a>을 참고하세요.
더 많은 라이선스를 찾으려면 <a href="https://choosealicense.com" target="_blank" rel="noopener noreferrer">choosealicense.com</a>을 참고하세요.</li><li><code>extra-doc-files</code>: <code>README</code>나 <code>CHANGELOG</code>와 같은 추가 문서 파일을 포함합니다.</li></ul><p>우리 프로젝트에 맞게 각 항목을 채워넣어봅시다.</p><div class="language-cabal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cabal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cabal-version:       2.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name:                hs-blog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version:             0.1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">synopsis:            마크업 파일을 통한 커스텀 블로그 생성기</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">description:         이 패키지는 커스텀 마크업 형식의 파일을 HTML로 변환하는</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     정적 블로그 생성기를 제공합니다.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     이 커스텀 마크업 형식의 파서와 HTML 프리티 프린터 EDSL을 정의합니다.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     이 패키지는 온라인 책 &#x27;Learn Haskell Blog Generator&#x27;의 예제 프로젝트로 사용됩니다.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     자세한 내용은 README를 참고하세요.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">homepage:            https://github.com/soupi/learn-haskell-blog-generator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bug-reports:         https://github.com/soupi/learn-haskell-blog-generator/issues</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">license:             BSD-3-Clause</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">license-file:        LICENSE.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">author:              Gil Mizrahi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">maintainer:          gilmi@posteo.net</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">category:            Learning, Web</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extra-doc-files:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  README.md</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="common-settings">Common settings<a href="#common-settings" class="hash-link" aria-label="Common settings에 대한 직접 링크" title="Common settings에 대한 직접 링크">​</a></h3><p>Cabal 패키지 설명에는 라이브러리, 실행 파일, 테스트 스위트 등 여러 &quot;타겟&quot;을 포함할 수 있습니다.
Cabal 2.2 이후로는 <a href="https://cabal.readthedocs.io/en/stable/cabal-package.html#common-stanzas" target="_blank" rel="noopener noreferrer">공통 stanza</a>를 사용하여
다른 타겟들 사이에서 공유할 설정을 그룹화할 수 있습니다. 이렇게 하면 각 타겟마다 설정을 반복할 필요가 없습니다.</p><p>예제에서는 <code>common-settings</code>라는 새로운 공통 stanza를 만들었습니다.
여기에는 기본 언어(Haskell은 98과 2010 두 가지 표준이 있습니다)설정과 GHC에 <code>-Wall</code> 옵션을 주어 컴파일하도록 지시합니다.</p><div class="language-cabal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cabal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">common common-settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default-language: Haskell2010</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ghc-options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -Wall</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>이후 타켓 설정에서 <code>import: common-settings</code>를 추가하면 이 설정들이 자동으로 추가됩니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="library">Library<a href="#library" class="hash-link" aria-label="Library에 대한 직접 링크" title="Library에 대한 직접 링크">​</a></h3><p><code>library</code> 명세에는 다음 항목들을 정의합니다:</p><ul><li>라이브러리를 빌드하는 데 필요한 설정(우리는 <code>common-settings</code>를 import합니다)</li><li>소스 파일이 위치한 디렉토리</li><li>라이브러리를 빌드하는 데 필요한 패키지</li><li>라이브러리에서 외부에 노출할 모듈</li><li>라이브러리에서 외부에 노출하지 않을 모듈, 이 모듈들은 외부에서 사용할 수 없습니다.
이는 내부 유틸리티 함수 모듈과 같은 모듈을 노출하지 않을 때 사용합니다.
예제에서는 내부 유틸리티 함수 모듈이 없으므로 <code>other-modules</code> 라벨을 주석 처리했습니다.</li></ul><p>보통 패키지의 <strong>버전 범위(version bounds)</strong>를 지정하는 것이 일반적입니다.
버전 범위는 <em>이 라이브러리가 동작하는 패키지 버전</em>을 지정합니다.
이는 <code>cabal gen-bounds</code> 명령으로 생성할 수도 있습니다.</p><div class="language-cabal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cabal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">library</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import: common-settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hs-source-dirs: src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  build-depends:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      base</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    , directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  exposed-modules:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HsBlog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      HsBlog.Convert</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      HsBlog.Html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HsBlog.Html.Internal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      HsBlog.Markup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -- other-modules:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>모듈을 위한 추가적인 <em>계층</em>을 정의했으며, 기존과 다른 소스 디렉토리를 지정했음을 주목하세요.
따라서 파일들을 약간 옮겨야 하고 각 파일의 <code>module</code> 이름과 <code>import</code> 문을 변경해야 합니다.
이는 사용자가 import할 다른 패키지와 충돌을 피하기 위함입니다.</p><hr><p>위 작업을 진행해보세요.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>정답</summary><div><div class="collapsibleContent_i85q"><ol><li><p><code>Main.hs</code> -&gt; <code>src/HsBlog.hs</code></p><div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">module</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">HsBlog</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token hvariable">main</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token hvariable">process</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token import-statement keyword" style="color:#00009f">import</span><span class="token import-statement"> </span><span class="token import-statement keyword" style="color:#00009f">qualified</span><span class="token import-statement"> HsBlog</span><span class="token import-statement punctuation" style="color:#393A34">.</span><span class="token import-statement">Markup </span><span class="token import-statement keyword" style="color:#00009f">as</span><span class="token import-statement"> Markup</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token import-statement keyword" style="color:#00009f">import</span><span class="token import-statement"> </span><span class="token import-statement keyword" style="color:#00009f">qualified</span><span class="token import-statement"> HsBlog</span><span class="token import-statement punctuation" style="color:#393A34">.</span><span class="token import-statement">Html </span><span class="token import-statement keyword" style="color:#00009f">as</span><span class="token import-statement"> Html</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token import-statement keyword" style="color:#00009f">import</span><span class="token import-statement"> HsBlog</span><span class="token import-statement punctuation" style="color:#393A34">.</span><span class="token import-statement">Convert</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token hvariable">convert</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><code>Convert.hs</code> -&gt; <code>src/HsBlog/Convert.hs</code></p><div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">module</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">HsBlog</span><span class="token constant punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">Convert</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token import-statement keyword" style="color:#00009f">import</span><span class="token import-statement"> </span><span class="token import-statement keyword" style="color:#00009f">qualified</span><span class="token import-statement"> HsBlog</span><span class="token import-statement punctuation" style="color:#393A34">.</span><span class="token import-statement">Markup </span><span class="token import-statement keyword" style="color:#00009f">as</span><span class="token import-statement"> Markup</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token import-statement keyword" style="color:#00009f">import</span><span class="token import-statement"> </span><span class="token import-statement keyword" style="color:#00009f">qualified</span><span class="token import-statement"> HsBlog</span><span class="token import-statement punctuation" style="color:#393A34">.</span><span class="token import-statement">Html </span><span class="token import-statement keyword" style="color:#00009f">as</span><span class="token import-statement"> Html</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><code>Html.hs</code> -&gt; <code>src/HsBlog/Html.hs</code></p><div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">module</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">HsBlog</span><span class="token constant punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">Html</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token import-statement keyword" style="color:#00009f">import</span><span class="token import-statement"> HsBlog</span><span class="token import-statement punctuation" style="color:#393A34">.</span><span class="token import-statement">Html</span><span class="token import-statement punctuation" style="color:#393A34">.</span><span class="token import-statement">Internal</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><code>Html/Internal.hs</code> -&gt; <code>src/HsBlog/Html/Internal.hs</code></p><div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">module</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">HsBlog</span><span class="token constant punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">Html</span><span class="token constant punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">Internal</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">where</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p><code>Markup.hs</code> -&gt; <code>src/HsBlog/Markup.hs</code></p><div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">module</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">HsBlog</span><span class="token constant punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">Markup</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="executable">Executable<a href="#executable" class="hash-link" aria-label="Executable에 대한 직접 링크" title="Executable에 대한 직접 링크">​</a></h3><p>우리는 코드를 라이브러리와 실행 파일, 두 부분으로 나누었습니다. 그 이유는 무엇일까요?</p><p>첫째, 라이브러리는 다른 사람들이 사용할 수 있습니다. 만약 우리가 코드를 공개하면 누군가는 이를 사용하고 더 발전시킬 수 있습니다.
하지만 실행 파일은 다른 프로젝트에서 import할 수 없습니다.
둘째, 라이브러리에 대해 유닛 테스트를 작성할 수 있습니다. 보통 대부분의 로직을 라이브러리로 작성하고, 그 위에 간단한 실행 파일을 제공하는 것이 유용합니다.</p><p>Executable 명세는 libraries 항목과 매우 유사합니다. 예제에서는 다음 항목들을 정의합니다:</p><ul><li>실행 파일의 이름</li><li>소스 디렉토리</li><li>&#x27;Main&#x27;을 정의한 파일</li><li><code>hs-blog</code>로 이름지은 우리 라이브러리를 import</li><li>GHC에 전달할 추가 옵션, 예를 들어 <code>-O</code>를 주어 최적화를 하도록 합니다.</li></ul><div class="language-cabal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cabal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">executable hs-blog-gen</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import: common-settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hs-source-dirs: app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  main-is: Main.hs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  build-depends:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      base</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    , hs-blog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ghc-options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -O</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>executable</code> 명세에는 여러 실행 파일을 정의할 수 있습니다. 예제에서는 하나만 정의했습니다.</p><hr><p><strong>연습문제</strong>: 새로운 파일을 추가하세요: <code>app/Main.hs</code>. 이 파일은 <code>HsBlog</code>를 import하고 <code>main</code>을 실행합니다.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>정답</summary><div><div class="collapsibleContent_i85q"><div class="language-haskell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-haskell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- app/Main.hs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">module</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">Main</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token import-statement keyword" style="color:#00009f">import</span><span class="token import-statement"> </span><span class="token import-statement keyword" style="color:#00009f">qualified</span><span class="token import-statement"> HsBlog</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token hvariable">main</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">::</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">IO</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token hvariable">main</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token hvariable">HsBlog</span><span class="token hvariable punctuation" style="color:#393A34">.</span><span class="token hvariable">main</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="test-suites">Test-suites<a href="#test-suites" class="hash-link" aria-label="Test-suites에 대한 직접 링크" title="Test-suites에 대한 직접 링크">​</a></h3><p>패키지의 테스트를 실행하기 위한 명세를 정의합니다. 이후 장에서 다룰 예정입니다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="최종-cabal-파일">최종 .cabal 파일<a href="#최종-cabal-파일" class="hash-link" aria-label="최종 .cabal 파일에 대한 직접 링크" title="최종 .cabal 파일에 대한 직접 링크">​</a></h2><div class="language-cabal codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cabal codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cabal-version:       2.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name:                hs-blog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version:             0.1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">synopsis:            마크업 파일을 통한 커스텀 블로그 생성기</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">description:         이 패키지는 커스텀 마크업 형식의 파일을 HTML로 변환하는</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     정적 블로그 생성기를 제공합니다.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     이 커스텀 마크업 형식의 파서와 HTML 프리티 프린터 EDSL을 정의합니다.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     이 패키지는 온라인 책 &#x27;Learn Haskell Blog Generator&#x27;의 예제 프로젝트로 사용됩니다.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     자세한 내용은 README를 참고하세요.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">homepage:            https://github.com/soupi/learn-haskell-blog-generator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bug-reports:         https://github.com/soupi/learn-haskell-blog-generator/issues</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">license:             BSD-3-Clause</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">license-file:        LICENSE.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">author:              Gil Mizrahi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">maintainer:          gilmi@posteo.net</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">category:            Learning, Web</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extra-doc-files:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">common common-settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default-language: Haskell2010</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ghc-options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -Wall</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">library</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import: common-settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hs-source-dirs: src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  build-depends:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      base</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    , directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  exposed-modules:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HsBlog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      HsBlog.Convert</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      HsBlog.Html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        HsBlog.Html.Internal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      HsBlog.Markup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -- other-modules:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">executable hs-blog-gen</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  import: common-settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  hs-source-dirs: app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  main-is: Main.hs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  build-depends:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      base</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    , hs-blog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ghc-options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -O</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>README.md</code> 파일과 <code>LICENSE.txt</code> 파일도 추가할 수 있습니다:</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>README.md</summary><div><div class="collapsibleContent_i85q"><p>원하는 내용을 넣을 수 있습니다.</p><div class="language-md codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-md codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> hs-blog</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">이 프로그램은 언젠가 정적 블로그 생성기가 될 것입니다.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token url" style="color:#36acaa">[</span><span class="token url content" style="color:#36acaa">이 책을 읽어보세요</span><span class="token url" style="color:#36acaa">](</span><span class="token url" style="color:#36acaa">https://lhbg-book.link</span><span class="token url" style="color:#36acaa">)</span><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>LICENSE.txt</summary><div><div class="collapsibleContent_i85q"><p>예제에서는 저자의 이름으로 BSD-3-Clause를 적용했습니다. 여러분의 프로젝트에는 여러분의 이름을 적어주세요 :)</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">BSD 3-Clause License</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Copyright (c) 2021-2022, Gil Mizrahi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">All rights reserved.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Redistribution and use in source and binary forms, with or without</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">modification, are permitted provided that the following conditions are met:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1. Redistributions of source code must retain the above copyright notice, this</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   list of conditions and the following disclaimer.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2. Redistributions in binary form must reproduce the above copyright notice,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   this list of conditions and the following disclaimer in the documentation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   and/or other materials provided with the distribution.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3. Neither the name of the copyright holder nor the names of its</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   contributors may be used to endorse or promote products derived from</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   this software without specific prior written permission.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cabalproject와-stackyaml"><code>cabal.project</code>와 <code>stack.yaml</code><a href="#cabalproject와-stackyaml" class="hash-link" aria-label="cabalproject와-stackyaml에 대한 직접 링크" title="cabalproject와-stackyaml에 대한 직접 링크">​</a></h2><p><a href="https://cabal.readthedocs.io/en/stable/cabal-project.html" target="_blank" rel="noopener noreferrer">cabal.project</a>와
<a href="https://docs.haskellstack.org/en/stable/yaml_configuration/#project-specific-config" target="_blank" rel="noopener noreferrer">stack.yaml</a>
파일은 각각 <code>cabal</code>과 <code>stack</code>에서 사용합니다. 이는 <em>패키지를 빌드하는 방법</em>에 대한 추가적인 정보를 제공합니다.
<code>cabal.project</code>파일은 <code>cabal</code>을 사용하기 위해 반드시 필요하지는 않지만, <code>stack.yaml</code>파일은 <code>stack</code>을 사용하기 위해 반드시 필요합니다.</p><p><code>stack.yaml</code>파일에는 다음 두 중요한 필드가 있습니다:</p><ul><li><code>resolver</code>: 패키지와 GHC 버전에 대한 스냅샷을 정의합니다.
이번에는 (글 작성시점 기준) <code>lts</code> 브랜치의 가장 최신 버전(<code>lts-18.22</code>)을 사용할 것입니다.
<a href="https://www.stackage.org/lts-18.22" target="_blank" rel="noopener noreferrer">이 링크</a>에서 이 스냅샷에 포함된 패키지들과 그 버전, 그리고 GHC 버전을 확인할 수 있습니다.</li><li><code>packages</code>: 빌드할 패키지들의 위치를 정의합니다. 이번에는 현재 디렉토리에 있는 하나의 패키지만 사용할 것입니다.</li></ul><p>프로젝트 디렉토리에 <code>stack.yaml</code>파일을 추가합니다:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">resolver</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> lts</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">18.22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">packages</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> .</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>추가 옵션과 설정에 대한 자세한 내용은 각각의 사용자 가이드를 참고하세요.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="사용법">사용법<a href="#사용법" class="hash-link" aria-label="사용법에 대한 직접 링크" title="사용법에 대한 직접 링크">​</a></h2><p>이제 직접 <code>runghc Main.hs</code>을 수행하지 않고, <code>stack</code> 또는 <code>cabal</code>을 사용하여 프로그램을 빌드하고 실행할 것입니다.
(저는 주로 <code>stack</code>을 사용하지만, 어떤 것을 사용하든 상관없습니다.)</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cabal을-사용하는-경우">cabal을 사용하는 경우<a href="#cabal을-사용하는-경우" class="hash-link" aria-label="cabal을 사용하는 경우에 대한 직접 링크" title="cabal을 사용하는 경우에 대한 직접 링크">​</a></h3><p>프로젝트 빌드하기 - 처음 실행시, cabal은 패키지 의존성을 다운로드하고 PATH에 있는 GHC를 사용하여 프로젝트를 빌드합니다.</p><p>cabal은 각 프로젝트 패키지를 캐시하기에, 새로운 프로젝트가 같은 패키지와 같은 버전을 사용한다면
(그리고 같은 플래그 설정을 사용한다면) 패키지를 다시 설치할 필요가 없습니다.</p><blockquote><p>이전 버전의 cabal에서는 패키지를 전역 또는 샌드박스에 설치할 수 있었습니다.
각 샌드박스(그리고 전역)에는 하나의 패키지 버전만 설치할 수 있었고,
사용자들은 보통 프로젝트마다 다른 샌드박스를 만들었고, 프로젝트 간에 패키지를 공유하지 않았습니다.</p><p>새로운 빌드 시스템으로 인해, 같은 패키지의 여러 버전을 전역으로 설치할 수 있게 되었고,
각 프로젝트는 샌드박스를 적용할 필요없이 패키지 의존성들이 모두 함께 동작하도록 특정 버전을 선택할 수 있습니다.
이 변경으로 인해 패키지 공유가 증가하고, 충돌을 피하고 샌드박스를 수동으로 관리할 필요가 없어졌습니다.</p></blockquote><blockquote><p>참고: 새로운 빌드 시스템 구현은 이제 기본값이며, cabal 명령어는 <code>v2-</code>로 접두사를 붙이지 않아도 됩니다.
하지만 cabal 문서에서는 여전히 새 명령어를 참조하기 위해 접두사를 언급할 것입니다.</p></blockquote><p>익혀두면 좋은 몇 가지 중요한 명령어가 있습니다:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cabal update</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://cabal.readthedocs.io/en/stable/cabal-commands.html#cabal-update" target="_blank" rel="noopener noreferrer"><code>update</code></a>
명령어는 원격 패키지 저장소(기본값은 Hackage)에서 정보를 가져와 로컬 패키지 인덱스를 업데이트합니다.
이 인덱스에는 패키지 이름, 버전, 의존성 등 패키지에 대한 다양한 정보가 포함됩니다.</p><p><code>cabal update</code>는 보통 패키지 의존성을 가져오기 전에 실행하는 명령어입니다.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cabal build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://cabal.readthedocs.io/en/stable/cabal-commands.html#cabal-build" target="_blank" rel="noopener noreferrer"><code>build</code></a>
명령어는 (<code>library</code>와 <code>executable</code> 등의) 다양한 타겟들을 컴파일합니다.
또한 기존에 설치되지 않은 패키지 의존성들을 가져와 설치합니다.</p><p>실행파일을 빌드하면, <code>cabal build</code>는 실행파일이 생성된 위치를 알려줍니다.
또한 <code>cabal exec -- which hs-blog-gen</code>과 같은 명령어를 사용하여 실행파일의 경로를 찾을 수 있습니다.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cabal run hs-blog-gen -- &lt;프로그램 인자&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://cabal.readthedocs.io/en/stable/cabal-commands.html#cabal-run" target="_blank" rel="noopener noreferrer"><code>run</code></a>
명령어는 타겟(예제에서는 <code>hs-blog-gen</code>이라는 이름을 붙인 <code>executable</code>)을 컴파일한 다음 실행합니다.
<code>--</code> 을 사용하면 <code>cabal</code>에게 전달한 인자와 타겟 프로그램에 전달한 인자를 구분할 수 있습니다.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cabal repl hs-blog</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://cabal.readthedocs.io/en/stable/cabal-commands.html#cabal-repl" target="_blank" rel="noopener noreferrer"><code>repl</code></a>
명령어는 타겟의(예제에서는 <code>hs-blog</code>라는 이름을 붙인 <code>library</code>) <code>ghci</code>를 실행합니다.
이는 타겟의 패키지의 의존성과 모듈을 <code>ghci</code>에서 사용할 수 있도록 로드합니다.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cabal clean</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://cabal.readthedocs.io/en/stable/cabal-commands.html#cabal-clean" target="_blank" rel="noopener noreferrer"><code>clean</code></a>
명령어는 빌드한 빌드 아티팩트를 삭제합니다.</p><p>cabal에는 이 외에도 흥미로운 명령어들이 있습니다. 예를 들어, <code>cabal freeze</code>는
프로젝트를 빌드할 때 사용한 패키지 버전과 플래그를 기록하는 파일을 생성하고,
<code>cabal sdist</code>는 프로젝트 소스를 패키지 tarball로 묶어 Hackage에 업로드할 수 있습니다.
더 많은 내용을 알고싶다면 <a href="https://cabal.readthedocs.io/en/stable/cabal-commands.html" target="_blank" rel="noopener noreferrer">Cabal 사용자 가이드</a>를 참고하세요.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="stack을-사용하는-경우">stack을 사용하는 경우<a href="#stack을-사용하는-경우" class="hash-link" aria-label="stack을 사용하는 경우에 대한 직접 링크" title="stack을 사용하는 경우에 대한 직접 링크">​</a></h3><p>프로젝트 빌드하기 - 처음 실행할 때, stack은 이 프로젝트를 위한(<code>stack.yaml</code> 파일의 <code>resolver</code>에 명시한) GHC를 설치하고 의존성 패키지를 다운로드하고 프로젝트를 컴파일합니다.</p><p>stack은 이러한 설치를 캐싱하여 같은 resolver를 사용하는 이후 프로젝트에서는 재설치없이 캐시를 사용합니다.
이는 완전한 패키지 공유와 샌드박스 사이의 중간 정도의 접근법입니다.</p><p>이제 (cabal 명령어와 비슷한) stack 명령어를 살펴보겠습니다:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stack build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://docs.haskellstack.org/en/stable/build_command/#build-command" target="_blank" rel="noopener noreferrer"><code>build</code></a>
명령어는 cabal에서 언급한 것과 동일한 타겟을 컴파일합니다. - 만약 설치되어 있지 않다면 GHC와 패키지 의존성을 설치합니다.</p><p>실행파일을 빌드하면, <code>stack build</code>는 실행파일이 생성된 위치를 알려줍니다.
또한 <code>stack exec -- which hs-blog-gen</code>과 같은 명령어를 사용하여 실행파일의 경로를 찾을 수 있습니다.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stack exec hs-blog-gen -- &lt;프로그램 인자&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://docs.haskellstack.org/en/stable/GUIDE/#stack-exec" target="_blank" rel="noopener noreferrer"><code>exec</code></a>
명령어는 프로그램 인자를 전달해 실행파일을 실행합니다.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stack ghci hs-blog</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://docs.haskellstack.org/en/stable/ghci/#ghci" target="_blank" rel="noopener noreferrer"><code>ghci</code></a>
명령어는 라이브러리 모듈과 패키지를 <code>ghci</code>에서 사용할 수 있도록 로드합니다.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stack clean</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://docs.haskellstack.org/en/stable/GUIDE/#cleaning-your-project" target="_blank" rel="noopener noreferrer"><code>clean</code></a>
명령어는 빌드 아티팩트를 삭제합니다.</p><p><a href="https://docs.haskellstack.org/en/stable/GUIDE/" target="_blank" rel="noopener noreferrer">Stack 사용자 가이드</a>에는 stack이 어떻게 동작하는지와 효과적으로 사용하는 방법에 대한 더 많은 정보가 있습니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="빌드-아티팩트">빌드 아티팩트<a href="#빌드-아티팩트" class="hash-link" aria-label="빌드 아티팩트에 대한 직접 링크" title="빌드 아티팩트에 대한 직접 링크">​</a></h3><p>stack과 cabal은 빌드 아티팩트를 생성합니다. 이 빌드 아티팩트는 보통 버전 관리에 포함하지 않습니다.
빌드 아티팩트는 <code>dist</code>, <code>dist-newstyle</code> 그리고 <code>.stack-work</code> 디렉토리에 있습니다.
우리는 이들을 <code>.gitignore</code> 파일(다른 버전관리 프로그램을 사용한다면 이와 비슷한 파일)에 추가하여 무시할 수 있습니다.</p><div class="language-txt codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-txt codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dist</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dist-newstyle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.stack-work</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="패키지-찾기">패키지 찾기<a href="#패키지-찾기" class="hash-link" aria-label="패키지 찾기에 대한 직접 링크" title="패키지 찾기에 대한 직접 링크">​</a></h2><p>사용할 패키지를 찾는것은 지금 당장은 쉽지 않은 과정입니다.
여러 사람들이 작성한 <a href="https://www.haskellforall.com/2018/05/how-i-evaluate-haskell-packages.html" target="_blank" rel="noopener noreferrer">패키지를 어떻게 선택하는가</a>,
<a href="https://github.com/soupi/haskell-study-plan#useful-packages" target="_blank" rel="noopener noreferrer">추천 리스트</a>, <a href="https://leanpub.com/haskell-stdlibs" target="_blank" rel="noopener noreferrer">책</a> 등을 참고할 수 있습니다.</p><p>저의 제안은 다음과 같습니다:</p><ul><li>흥미로운 튜토리얼을 찾아보고, 어떤 패키지가 사용되었는지 확인합니다.</li><li>Hackage의 다운로드 수를 확인합니다.</li><li>관련 패키지를 찾기위해 <a href="https://www.stackage.org/lts" target="_blank" rel="noopener noreferrer">Stackage</a>의 패키지 시놉시스를 확인합니다.</li><li>소셜 네트워크 채널에서 사람들의 추천을 확인합니다. 하지만 때때로 사람들은 적절하지 않은 솔루션과, 너무 복잡하거나 실험적인 패키지를 추천하기도 합니다.</li></ul><p>패키지의 의존성 개수를 확인하는 것도 중요합니다. 많은 의존성을 추가하면 컴파일 시간과 코드 크기에 영향을 미칩니다.
때때로 패키지를 비교하거나 패키지가 필요한지 고려할 때 사용할 수 있는 좋은 방법입니다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="요약">요약<a href="#요약" class="hash-link" aria-label="요약에 대한 직접 링크" title="요약에 대한 직접 링크">​</a></h2><p>지믁까지 라이브러리를 위한 패키지 명세를 만들었고, <code>stack</code> 또는 <code>cabal</code>을 사용하여 프로그램을 빌드했습니다.
이후 장에서는 본격적으로 외부 패키지를 추가할 것인데, <code>cabal</code> 파일의 <code>build-depends</code> 섹션에만 추가하면 됩니다.
그러면 패키지 관리자가 필요한 패키지를 다운로드하고 설치할 것입니다!</p><p>우리는 프로젝트 디렉토리 구조를 변경하였는데 다음과 같습니다:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── Main.hs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── hs-blog.cabal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── LICENSE.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── README.md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── HsBlog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── Convert.hs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── Html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   │   └── Internal.hs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   ├── Html.hs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   │   └── Markup.hs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── HsBlog.hs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── stack.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4 directories, 10 files</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>이 패키지 포맷은 다른 하스켈 개발자들이 사용할 수 있도록 <a href="https://hackage.haskell.org/" target="_blank" rel="noopener noreferrer">Hackage</a>에 배포될 수 있습니다!</p><blockquote><p>Git 커밋을 통해
<a href="https://github.com/soupi/learn-haskell-blog-generator/commit/8ca58aef80930db82cd20e85f44f5e34e1d74214" target="_blank" rel="noopener noreferrer">이번에 수정한 내역</a>
과 <a href="https://github.com/soupi/learn-haskell-blog-generator/tree/8ca58aef80930db82cd20e85f44f5e34e1d74214" target="_blank" rel="noopener noreferrer">현재까지 코드</a> 를 확인할 수 있습니다.</p></blockquote></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/jbl428/learn-haskell-blog-generator/tree/book/docs/05-glue/03-project.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>페이지 편집</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="문서 페이지"><a class="pagination-nav__link pagination-nav__link--prev" href="/learn-haskell-blog-generator/glue/io"><div class="pagination-nav__sublabel">이전</div><div class="pagination-nav__label">IO 다루기</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/learn-haskell-blog-generator/glue/optparse"><div class="pagination-nav__sublabel">다음</div><div class="pagination-nav__label">멋진 옵션 파싱</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#프로젝트-만들기" class="table-of-contents__link toc-highlight">프로젝트 만들기</a><ul><li><a href="#package-metadata" class="table-of-contents__link toc-highlight">Package metadata</a></li><li><a href="#common-settings" class="table-of-contents__link toc-highlight">Common settings</a></li><li><a href="#library" class="table-of-contents__link toc-highlight">Library</a></li><li><a href="#executable" class="table-of-contents__link toc-highlight">Executable</a></li><li><a href="#test-suites" class="table-of-contents__link toc-highlight">Test-suites</a></li></ul></li><li><a href="#최종-cabal-파일" class="table-of-contents__link toc-highlight">최종 .cabal 파일</a></li><li><a href="#cabalproject와-stackyaml" class="table-of-contents__link toc-highlight"><code>cabal.project</code>와 <code>stack.yaml</code></a></li><li><a href="#사용법" class="table-of-contents__link toc-highlight">사용법</a><ul><li><a href="#cabal을-사용하는-경우" class="table-of-contents__link toc-highlight">cabal을 사용하는 경우</a></li><li><a href="#stack을-사용하는-경우" class="table-of-contents__link toc-highlight">stack을 사용하는 경우</a></li><li><a href="#빌드-아티팩트" class="table-of-contents__link toc-highlight">빌드 아티팩트</a></li></ul></li><li><a href="#패키지-찾기" class="table-of-contents__link toc-highlight">패키지 찾기</a></li><li><a href="#요약" class="table-of-contents__link toc-highlight">요약</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/learn-haskell-blog-generator/assets/js/runtime~main.30b23ec9.js"></script>
<script src="/learn-haskell-blog-generator/assets/js/main.533587d0.js"></script>
</body>
</html>